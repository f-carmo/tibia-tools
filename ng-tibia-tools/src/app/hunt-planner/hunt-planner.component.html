<div class="hunt-planner-layout">
  <div class="planner-sections">
    <!-- Hunt History -->
    <section class="history-card">
      <h3>Hunt History</h3>

      <div class="form-group">
        <label>Hunt name</label>
        <div class="input-overlay-container hunt-name">
          <input *ngIf="!currentHunt" type="text" [(ngModel)]="huntName" name="_huntName" />
          <span *ngIf="currentHunt" class="input-overlay" style="width:100%">
            {{ currentHunt.name }}
          </span>
        </div>
      </div>
      <div class="form-group">
        <label>Time (in minutes)</label>
        <div class="input-overlay-container">
          <input type="string" maxlength="7" [(ngModel)]="huntHistoryTime" name="_huntHistoryTime" />
          <span class="input-overlay">Saved: {{ currentHunt?.historyMinutes ?? '-' }}</span>
        </div>
      </div>
      <div class="form-group">
        <label>Mana potions used</label>
        <div class="input-overlay-container">
          <input type="string" maxlength="7" [(ngModel)]="huntPotionsUsed" name="_huntPotionsUsed" />
          <span class="input-overlay">Saved: {{ currentHunt?.historyPotions ?? '-' }}</span>
        </div>
      </div>
      <div class="form-group">
        <label>Runes used</label>
        <div class="input-overlay-container">
          <input type="string" maxlength="7" [(ngModel)]="huntRunesUsed" name="_huntRunesUsed" />
          <span class="input-overlay">Saved: {{ currentHunt?.historyRunes ?? '-' }}</span>
        </div>
      </div>
      <div class="form-group">
        <label>Spirits used</label>
        <div class="input-overlay-container">
          <input type="string" maxlength="7" [(ngModel)]="huntSpiritsUsed" name="_huntSpiritsUsed" />
          <span class="input-overlay">Saved: {{ currentHunt?.historySpirits ?? '-' }}</span>
        </div>
      </div>
      <div class="form-group">
        <label>Arrows used</label>
        <div class="input-overlay-container">
          <input type="string" maxlength="7" [(ngModel)]="huntArrowsUsed" name="_huntArrowsUsed" />
          <span class="input-overlay">Saved: {{ currentHunt?.historyArrows ?? '-' }}</span>
        </div>
      </div>
      <div class="button-row">
        <button *ngIf="!currentHunt" type="button" class="action-btn" (click)="saveHunt()">Salvar hunt</button>
        <button *ngIf="currentHunt" type="button" class="action-btn merge-btn" (click)="mergeHunt(currentHunt.name)">
          Merge hunt: {{ currentHunt.name }}
        </button>
        <button *ngIf="currentHunt" type="button" class="action-btn reset-btn" (click)="resetForm()">
          Reset
        </button>
      </div>
    </section>

    <!-- Hunt Planning -->
    <section class="planner-card">
      <h3>Hunt Planning</h3>
      <div class="form-group">
        <label>Time (in minutes)</label>
        <input type="number" [(ngModel)]="plannerMinutes" name="_plannerMinutes" />
      </div>
      <div class="form-group">
        <label>Cap available</label>
        <input type="number" [(ngModel)]="plannerCapacity" name="_plannerCapacity" />
      </div>
      <button type="button" class="action-btn" (click)="gerarResultado()">Gerar</button>
    </section>

    <!-- Hunt Results -->
    <section class="planner-card">
      <h3>Hunt Results</h3>
      <div class="result-box">
        <p [innerHTML]="resultText"></p>
      </div>
    </section>
  </div>

  <div class="saved-hunts-section">
    <h3>Saved Hunts</h3>
    <div class="card-list">
      <app-hunt-card *ngFor="let hunt of huntsList"
        [hunt]="hunt"
        [selected]="currentHunt && hunt.name === currentHunt.name"
        (loadThis)="loadHunt($event)"
        (mergeHunt)="mergeHunt($event)"
        (deleteHunt)="deleteHunt($event)">
      </app-hunt-card>
    </div>
  </div>
</div>